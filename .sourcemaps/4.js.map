{"version":3,"sources":["../../src/pages/addupdaterides/addupdaterides.module.ts","../../src/app/pipes/search.ts","../../src/pages/addupdaterides/addupdaterides.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddupdateridesPage } from './addupdaterides';\nimport { SearchPipe } from \"../../app/pipes/search\";\n\n@NgModule({\n  declarations: [\n    AddupdateridesPage,\n    SearchPipe\n  ],\n  imports: [\n    IonicPageModule.forChild(AddupdateridesPage),\n  ],\n})\nexport class AddupdateridesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addupdaterides/addupdaterides.module.ts","import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: 'search',\n})\nexport class SearchPipe implements PipeTransform {\n  transform(items: any[], terms: string, tag: string, tag2: string): any[] {\n    if (!items) return [];\n    if (!terms) return items;\n    terms = terms.toLowerCase();\n    return items.filter(it => {\n      return (it[tag].toLowerCase() + it[tag2].toLowerCase()).includes(terms);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes/search.ts","import { Component, ChangeDetectorRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { GetService } from '../../app/services/get.servie';\nimport { Utils, APP_TYPE } from '../../app/services/Utils';\n\n/**\n * Generated class for the AddupdateridesPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-addupdaterides',\n  templateUrl: 'addupdaterides.html',\n})\nexport class AddupdateridesPage {\n  items: any;\n  page1: boolean = true;\n  page2: boolean = false;\n  page3: boolean = false;\n  title: string = \"Select Manufacture & Model\";\n  itemSelected: any;\n  city: string = \"\";\n  plateNumber: string = \"\";\n  plateCode: string = \"\";\n  year: string = \"\";\n  pColor: string = \"\";\n  calledFrom: string = \"\";\n  updateItem: any;\n\n\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public alertUtils: Utils, private apiService: GetService, private ref: ChangeDetectorRef, private viewCtrl: ViewController) {\n    this.calledFrom = this.navParams.get(\"from\");\n    this.updateItem = this.navParams.get(\"updateitem\");\n    console.log(this.updateItem);\n\n    if (this.calledFrom == \"update\") {\n      if (this.updateItem.intensity)\n        this.pColor = this.updateItem.intensity;\n      if (this.updateItem.city)\n        this.city = this.updateItem.city;\n      if (this.updateItem.modelcode)\n        this.plateCode = this.updateItem.modelcode;\n      if (this.updateItem.modelnumber)\n        this.plateNumber = this.updateItem.modelnumber;\n      if (this.updateItem.modelnumber)\n        this.year = this.updateItem.modelyear;\n\n\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddupdateridesPage');\n  }\n  pickColor(color) {\n    this.pColor = color;\n  }\n  continue() {\n    if (!this.alertUtils.validateText(this.year, \"year\", 4, 4)) {\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\n      return false;\n    }\n    if (this.alertUtils.isValidQty(this.year)) {\n      this.alertUtils.showToast(\"Invalid year\");\n      return false;\n    }\n    if (this.year) {\n      if (parseInt(this.year) > 2019) {\n        this.alertUtils.showToast(\"Invalid year\");\n        return false;\n      }\n    }\n\n    if (!this.pColor) {\n      this.alertUtils.showToast(\"Pick color\");\n      return false;\n    }\n    if (!this.alertUtils.validateText(this.city, \"plate number\", 2, 100)) {\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\n      return false;\n    }\n    if (!this.alertUtils.validateText(this.plateNumber, \"plate number\", 1, 15)) {\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\n      return false;\n    }\n    if (!this.alertUtils.validateText(this.plateCode, \"plate code\", 1, 15)) {\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\n      return false;\n    }\n\n    let input = { \"User\": { \"id\": this.itemSelected.entityid, \"manufacturer\": this.itemSelected.manufacturer, \"model\": this.itemSelected.model, \"code\": this.plateCode, \"number\": this.plateNumber, \"intensity\": this.pColor, \"year\": this.year, \"TransType\": \"extrainformation\", \"apptype\": APP_TYPE, \"city\": this.city, \"userid\": Utils.USER_INFO_DATA.userid } };\n    if (this.calledFrom == \"update\") {\n      input.User.TransType = \"updateextrainformation\";\n    }\n    console.log(JSON.stringify(input));\n    this.apiService.postReq(GetService.ride(), input).then(res => {\n      console.log(res);\n      if (res && res.data) {\n        this.alertUtils.showToast(\"Ride created successfully\");\n        this.viewCtrl.dismiss('success');\n\n      }\n    })\n  }\n\n  pickedItem(item) {\n    console.log(item);\n    if (item) {\n      this.itemSelected = item;\n      this.page1 = false;\n      this.page2 = true;\n      this.title = \"Enter details below\"\n\n    }\n  }\n\n  ngOnInit() {\n    this.fetchRides();\n  }\n  onChange(c) {\n    if (c.checked) {\n      c.checked = false;\n    } else {\n      c.checked = true;\n    }\n    this.ref.detectChanges();\n  }\n  fetchRides() {\n    let input = { \"root\": { \"usertype\": \"customer\" } };\n    this.apiService.postReq(GetService.entities(), input).then(res => {\n      console.log(res)\n      if (res && res.data) {\n        this.items = res.data;\n        if (this.calledFrom == \"update\") {\n          for (let i = 0; i < this.items.length; i++) {\n            const element = this.items[i];\n            if (element.manufacturer && element.manufacturer.toLowerCase() == this.updateItem.manufacturer && element.model && element.model.toLowerCase() == this.updateItem.model) {\n              this.itemSelected = element;\n            }\n\n          }\n        }\n      }\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addupdaterides/addupdaterides.ts"],"sourceRoot":""}