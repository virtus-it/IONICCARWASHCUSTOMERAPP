{"version":3,"sources":["../../src/pages/simpledialog/simpledialog.module.ts","../../src/pages/simpledialog/simpledialog.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SimpledialogPage } from './simpledialog';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SimpledialogPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SimpledialogPage),\r\n  ],\r\n})\r\nexport class SimpledialogPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/simpledialog/simpledialog.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { GetService } from \"../../app/services/get.servie\";\r\nimport { APP_TYPE, APP_USER_TYPE, MOBILE_TYPE, Utils, RES_SUCCESS, TRY_AGAIN_ERR_MSG, INTERNET_ERR_MSG } from \"../../app/services/Utils\";\r\n// import { SMS } from \"@ionic-native/sms\";\r\nimport { MapView } from '../MapView/MapView';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-simpledialog',\r\n  templateUrl: 'simpledialog.html',\r\n})\r\nexport class SimpledialogPage {\r\n  name: string;\r\n  mobileNumber: string;\r\n  senderMobileNumber: string = '9652425341';\r\n  // showSendSMS: boolean = false;\r\n  page1: boolean = true;\r\n  page2: boolean = false;\r\n  //\r\n  referCode: string = \"\";\r\n  userReferCode: string = \"\";\r\n  private isExisting: any;\r\n  private exMobileno: any;\r\n  private exUserInfo: any;\r\n  private items: any;\r\n  private calledFrom: string = \"\";\r\n\r\n  constructor(\r\n    // private sms: SMS,\r\n     public navCtrl: NavController, public navParams: NavParams, public alertUtils: Utils, private apiService: GetService) {\r\n  }\r\n  ngOnInit() {\r\n\r\n    this.calledFrom = this.navParams.get(\"from\");\r\n    this.alertUtils.showLog(this.calledFrom);\r\n    this.isExisting = this.navParams.get(\"isExisting\");\r\n    this.exMobileno = this.navParams.get(\"exMobileno\");\r\n    this.referCode = this.navParams.get(\"referCode\");\r\n    this.exUserInfo = this.navParams.get(\"exUserInfo\");\r\n    this.alertUtils.showLog(this.exMobileno);\r\n    this.items = this.navParams.get(\"items\");\r\n\r\n    if (this.exUserInfo && this.exUserInfo.reference_code) {\r\n      Utils.sLog(this.exUserInfo);\r\n      this.userReferCode = this.exUserInfo.reference_code;\r\n    } else {\r\n      if (this.exUserInfo && this.exUserInfo.user_id)\r\n        this.userReferCode = 'MOYAIT' + this.exUserInfo.user_id;\r\n      else {\r\n        this.userReferCode = 'MOYAIT' + this.exMobileno;\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  nextPage() {\r\n    let data = {\r\n      from: \"welcome\",\r\n      isExisting: this.isExisting,\r\n    };\r\n\r\n    if (this.items) {\r\n      data[\"items\"] = this.items\r\n    } else {\r\n      data[\"items\"] = \"\";\r\n    }\r\n    if (this.exUserInfo) {\r\n      if (this.name)\r\n        this.exUserInfo['firstname'] = this.name;\r\n      data[\"exUserInfo\"] = this.exUserInfo;\r\n    } else {\r\n      data[\"exUserInfo\"] = \"\";\r\n    }\r\n    if (this.referCode) {\r\n      data[\"referCode\"] = this.referCode;\r\n    } else {\r\n      data[\"referCode\"] = \"\";\r\n    }\r\n    if (this.exMobileno) {\r\n      data[\"exMobileno\"] = this.exMobileno;\r\n    } else {\r\n      data[\"exMobileno\"] = \"\";\r\n    }\r\n    Utils.sLog(data);\r\n\r\n    this.navCtrl.push(MapView, data).then(next => {\r\n    });\r\n  }\r\n\r\n  sendSMS() {\r\n    // Send a text message using default options\r\n  /*  if (this.alertUtils.networkStatus()) {\r\n\r\n      this.showSendSMS = true;\r\n      this.sms.hasPermission().then(yes => {\r\n        if (this.alertUtils.validateText(this.name, \"Name\", 3, 100)) {\r\n          let msg = \"Hi , This is \" + this.name + \" from Moya the water App with reference code :\" + this.userReferCode;\r\n          this.sms.send(this.senderMobileNumber, msg).then(success => {\r\n            this.sendContestUser();\r\n          }, reason => {\r\n            this.showSendSMS = false;\r\n            this.alertUtils.showToast(\"failed to send sms, please try again\");\r\n          })\r\n        } else {\r\n          this.showSendSMS = false;\r\n          this.alertUtils.showToast(this.alertUtils.ERROR_MES);\r\n        }\r\n      }, reason => {\r\n        this.showSendSMS = false;\r\n        this.alertUtils.showAlert('PERMISSION', 'Please allow SMS permission to MOYA in phone app setting', \"OK\")\r\n      });\r\n    } else {\r\n      this.alertUtils.showToast(INTERNET_ERR_MSG);\r\n    }*/\r\n  }\r\n\r\n  sendContestUser() {\r\n    /*\r\n    try {\r\n\r\n      let data = {\r\n        \"User\": {\r\n          \"transtype\": 'littlegenius',\r\n          \"name\": this.name,\r\n          \"mobileno\": this.exMobileno,\r\n          \"usertype\": APP_USER_TYPE,\r\n          \"refercode\": this.referCode,\r\n          \"userrefercode\": this.userReferCode,\r\n          \"mobiletype\": MOBILE_TYPE,\r\n          \"apptype\": APP_TYPE\r\n        }\r\n      };\r\n      if (this.exUserInfo && this.exUserInfo.user_id) {\r\n        data.User[\"userid\"] = this.exUserInfo.user_id;\r\n      }\r\n      let input = JSON.stringify(data);\r\n      this.apiService.postReq(this.apiService.mobileValidation(), input).then(res => {\r\n        this.showSendSMS = false;\r\n        Utils.sLog(res);\r\n        if (res && res.result == RES_SUCCESS) {\r\n          this.page1 = false;\r\n          this.page2 = true;\r\n        } else {\r\n          this.alertUtils.showToast(TRY_AGAIN_ERR_MSG);\r\n        }\r\n      }, reject => {\r\n        this.showSendSMS = false;\r\n        Utils.sLog(reject);\r\n      })\r\n    } catch (err) {\r\n      this.showSendSMS = false;\r\n      Utils.sLog(err)\r\n    }*/\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/simpledialog/simpledialog.ts"],"sourceRoot":""}