{"version":3,"sources":["../../src/pages/addupdaterides/addupdaterides.module.ts","../../src/pages/addupdaterides/addupdaterides.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AddupdateridesPage } from './addupdaterides';\r\n// import { SearchPipe } from \"../../app/pipes/search\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddupdateridesPage\r\n    // SearchPipe\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AddupdateridesPage),\r\n  ],\r\n})\r\nexport class AddupdateridesPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addupdaterides/addupdaterides.module.ts","import { Component, ChangeDetectorRef } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { GetService } from '../../app/services/get.servie';\r\nimport { Utils, APP_TYPE } from '../../app/services/Utils';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-addupdaterides',\r\n  templateUrl: 'addupdaterides.html',\r\n})\r\nexport class AddupdateridesPage {\r\n  items: any;\r\n  filterItems: any;\r\n  page1: boolean = true;\r\n  page2: boolean = false;\r\n  page3: boolean = false;\r\n  title: string = \"Select Manufacture & Model\";\r\n  itemSelected: any;\r\n  city: string = \"\";\r\n  plateNumber: string = \"\";\r\n  plateCode: string = \"\";\r\n  year: string = \"\";\r\n  pColor: string = \"\";\r\n  calledFrom: string = \"\";\r\n  updateItem: any;\r\n  searchTerm: string = \"\";\r\n\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public alertUtils: Utils, private apiService: GetService, private ref: ChangeDetectorRef, private viewCtrl: ViewController) {\r\n    this.calledFrom = this.navParams.get(\"from\");\r\n    this.updateItem = this.navParams.get(\"updateitem\");\r\n    console.log(this.updateItem);\r\n\r\n    if (this.calledFrom == \"update\") {\r\n      if (this.updateItem.intensity)\r\n        this.pColor = this.updateItem.intensity;\r\n      if (this.updateItem.city)\r\n        this.city = this.updateItem.city;\r\n      if (this.updateItem.modelcode)\r\n        this.plateCode = this.updateItem.modelcode;\r\n      if (this.updateItem.modelnumber)\r\n        this.plateNumber = this.updateItem.modelnumber;\r\n      if (this.updateItem.modelnumber)\r\n        this.year = this.updateItem.modelyear;\r\n\r\n\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad AddupdateridesPage');\r\n  }\r\n  filterItem() {\r\n    this.filterItems = this.items.filter(item => item.manufacturer.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1 || item.model.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1);\r\n  }\r\n  pickColor(color) {\r\n    this.pColor = color;\r\n  }\r\n  continue() {\r\n    if (!this.alertUtils.validateText(this.year, \"year\", 4, 4)) {\r\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\r\n      return false;\r\n    }\r\n    if (this.alertUtils.isValidQty(this.year)) {\r\n      this.alertUtils.showToast(\"Invalid year\");\r\n      return false;\r\n    }\r\n    if (this.year) {\r\n      console.log(\"YEAR : \" + new Date().getFullYear())\r\n      if (parseInt(this.year) > new Date().getFullYear()) {\r\n        this.alertUtils.showToast(\"Invalid year\");\r\n        return false;\r\n      }\r\n    }\r\n\r\n    if (!this.pColor) {\r\n      this.alertUtils.showToast(\"Pick color\");\r\n      return false;\r\n    }\r\n    if (!this.alertUtils.validateText(this.city, \"plate number\", 2, 100)) {\r\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\r\n      return false;\r\n    }\r\n    if (!this.alertUtils.validateText(this.plateNumber, \"plate number\", 1, 15)) {\r\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\r\n      return false;\r\n    }\r\n    if (!this.alertUtils.validateText(this.plateCode, \"plate code\", 1, 15)) {\r\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\r\n      return false;\r\n    }\r\n\r\n    let input = { \"User\": { \"id\": this.itemSelected.entityid, \"manufacturer\": this.itemSelected.manufacturer, \"model\": this.itemSelected.model, \"code\": this.plateCode, \"number\": this.plateNumber, \"intensity\": this.pColor, \"year\": this.year, \"TransType\": \"extrainformation\", \"apptype\": APP_TYPE, \"city\": this.city, \"userid\": Utils.USER_INFO_DATA.userid } };\r\n    if (this.calledFrom == \"update\") {\r\n      input.User.TransType = \"updateextrainformation\";\r\n    }\r\n    console.log(JSON.stringify(input));\r\n    this.apiService.postReq(GetService.ride(), input).then(res => {\r\n      console.log(res);\r\n      if (res && res.data) {\r\n        this.alertUtils.showToast(\"Ride created successfully\");\r\n        this.viewCtrl.dismiss('success');\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  pickedItem(item) {\r\n    console.log(item);\r\n    if (item) {\r\n      this.itemSelected = item;\r\n      this.page1 = false;\r\n      this.page2 = true;\r\n      this.title = \"Enter details below\"\r\n\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchRides();\r\n  }\r\n  onChange(c) {\r\n    if (c.checked) {\r\n      c.checked = false;\r\n    } else {\r\n      c.checked = true;\r\n    }\r\n    this.ref.detectChanges();\r\n  }\r\n  fetchRides() {\r\n    let input = { \"root\": { \"usertype\": \"customer\" } };\r\n    this.apiService.postReq(GetService.entities(), input).then(res => {\r\n      console.log(res)\r\n      if (res && res.data) {\r\n        this.items = res.data;\r\n        this.filterItems = res.data;\r\n        if (this.calledFrom == \"update\") {\r\n          for (let i = 0; i < this.items.length; i++) {\r\n            const element = this.items[i];\r\n            if (element.manufacturer && element.manufacturer.toLowerCase() == this.updateItem.manufacturer && element.model && element.model.toLowerCase() == this.updateItem.model) {\r\n              this.itemSelected = element;\r\n            }\r\n\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addupdaterides/addupdaterides.ts"],"sourceRoot":""}