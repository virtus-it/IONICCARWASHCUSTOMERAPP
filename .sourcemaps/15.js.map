{"version":3,"sources":["../../src/pages/addupdaterides/addupdaterides.module.ts","../../src/pages/addupdaterides/addupdaterides.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AddupdateridesPage } from './addupdaterides';\r\n// import { SearchPipe } from \"../../app/pipes/search\";\r\nimport { TranslateLoader, TranslateModule } from \"@ngx-translate/core\";\r\nimport { createTranslateLoader } from \"../../app/app.module\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddupdateridesPage\r\n    // SearchPipe\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AddupdateridesPage),\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: (createTranslateLoader),\r\n        deps: [HttpClient]\r\n      }\r\n    })\r\n  ],\r\n})\r\nexport class AddupdateridesPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addupdaterides/addupdaterides.module.ts","import {ChangeDetectorRef, Component} from '@angular/core';\r\nimport {IonicPage, NavController, NavParams, ViewController} from 'ionic-angular';\r\nimport {GetService} from '../../app/services/get.servie';\r\nimport {APP_TYPE, Utils} from '../../app/services/Utils';\r\nimport {TranslateService} from '@ngx-translate/core';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-addupdaterides',\r\n  templateUrl: 'addupdaterides.html',\r\n})\r\nexport class AddupdateridesPage {\r\n  items: any;\r\n  filterItems: any;\r\n  page1: boolean = true;\r\n  page2: boolean = false;\r\n  page3: boolean = false;\r\n  title: string = \"Select Manufacture & Model\";\r\n  itemSelected: any;\r\n  city: string = \"\";\r\n  plateNumber: string = \"\";\r\n  plateCode: string = \"\";\r\n  year: string = \"\";\r\n  pColor: string = \"\";\r\n  calledFrom: string = \"\";\r\n  updateItem: any;\r\n  searchTerm: string = \"\";\r\n\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public alertUtils: Utils, private apiService: GetService, private ref: ChangeDetectorRef, private viewCtrl: ViewController, private translateService: TranslateService) {\r\n    let lang = \"en\";\r\n    if (Utils.lang) {\r\n      lang = Utils.lang\r\n    }\r\n    console.log(lang);\r\n    translateService.use(lang);\r\n\r\n    this.calledFrom = this.navParams.get(\"from\");\r\n    this.updateItem = this.navParams.get(\"updateitem\");\r\n    console.log(this.updateItem);\r\n\r\n    if (this.calledFrom == \"update\") {\r\n      if (this.updateItem.intensity)\r\n        this.pColor = this.updateItem.intensity;\r\n      if (this.updateItem.city)\r\n        this.city = this.updateItem.city;\r\n      if (this.updateItem.modelcode)\r\n        this.plateCode = this.updateItem.modelcode;\r\n      if (this.updateItem.modelnumber)\r\n        this.plateNumber = this.updateItem.modelnumber;\r\n      if (this.updateItem.modelnumber)\r\n        this.year = this.updateItem.modelyear;\r\n\r\n\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad AddupdateridesPage');\r\n  }\r\n\r\n  filterItem() {\r\n    this.filterItems = this.items.filter(item => item.manufacturer.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1 || item.model.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1);\r\n  }\r\n\r\n  pickColor(color) {\r\n    this.pColor = color;\r\n  }\r\n\r\n  continue() {\r\n    if (!this.alertUtils.validateText(this.year, \"year\", 4, 4)) {\r\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\r\n      return false;\r\n    }\r\n    if (this.alertUtils.isValidQty(this.year)) {\r\n      this.alertUtils.showToast(\"Invalid year\");\r\n      return false;\r\n    }\r\n    if (this.year) {\r\n      console.log(\"YEAR : \" + new Date().getFullYear())\r\n      if (parseInt(this.year) > new Date().getFullYear()) {\r\n        this.alertUtils.showToast(\"Invalid year\");\r\n        return false;\r\n      }\r\n    }\r\n\r\n    if (!this.pColor) {\r\n      this.alertUtils.showToast(\"Pick color\");\r\n      return false;\r\n    }\r\n    if (!this.alertUtils.validateText(this.city, \"city\", 2, 100)) {\r\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\r\n      return false;\r\n    }\r\n    if (!this.alertUtils.validateText(this.plateNumber, \"plate number\", 1, 15)) {\r\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\r\n      return false;\r\n    }\r\n    if (!this.alertUtils.validateText(this.plateCode, \"plate code\", 1, 15)) {\r\n      this.alertUtils.showToast(this.alertUtils.ERROR_MES);\r\n      return false;\r\n    }\r\n\r\n    let input = {\r\n      \"User\": {\r\n        \"manufacturer\": this.itemSelected.manufacturer,\r\n        \"model\": this.itemSelected.model,\r\n        \"code\": this.plateCode,\r\n        \"number\": this.plateNumber,\r\n        \"intensity\": this.pColor,\r\n        \"year\": this.year,\r\n        \"TransType\": \"extrainformation\",\r\n        \"apptype\": APP_TYPE,\r\n        \"city\": this.city,\r\n        \"userid\": Utils.USER_INFO_DATA.userid\r\n      }\r\n    };\r\n    if (this.calledFrom == \"update\") {\r\n      input.User.TransType = \"updateextrainformation\";\r\n      if (this.updateItem && this.updateItem.id) {\r\n        input.User[\"id\"] = this.updateItem.id;\r\n      }\r\n    }\r\n    console.log(JSON.stringify(input));\r\n    this.apiService.postReq(GetService.ride(), input).then(res => {\r\n      console.log(res);\r\n      if (res && res.data) {\r\n        this.alertUtils.showToast(\"Ride created successfully\");\r\n        this.viewCtrl.dismiss('success');\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  pickedItem(item) {\r\n    console.log(item);\r\n    if (item) {\r\n      this.itemSelected = item;\r\n      this.page1 = false;\r\n      this.page2 = true;\r\n      this.title = \"Enter details below\"\r\n\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchRides();\r\n  }\r\n\r\n  onChange(c) {\r\n    if (c.checked) {\r\n      c.checked = false;\r\n    } else {\r\n      c.checked = true;\r\n    }\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  fetchRides() {\r\n    let input = {\"root\": {\"usertype\": \"customer\"}};\r\n    this.apiService.postReq(GetService.entities(), input).then(res => {\r\n      console.log(res)\r\n      if (res && res.data) {\r\n        this.items = res.data;\r\n        this.filterItems = res.data;\r\n        if (this.calledFrom == \"update\") {\r\n          for (let i = 0; i < this.items.length; i++) {\r\n            const element = this.items[i];\r\n            if (element.manufacturer && element.manufacturer.toLowerCase() == this.updateItem.manufacturer && element.model && element.model.toLowerCase() == this.updateItem.model) {\r\n              this.itemSelected = element;\r\n            }\r\n\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addupdaterides/addupdaterides.ts"],"sourceRoot":""}